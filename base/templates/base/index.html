{% extends 'base/main.html'%} {% block content %}
<h1 class="header-bar">TODO-APP</h1>
<div class="card-body">
  {% if request.user.is_authenticated %}
  <p class="text-end">
    Welcome {{request.user}} - <a href="{% url 'base:logout' %}">Logout</a>
  </p>
  {% else %}
  <p><a href="{% url 'base:login' %}">Login</a></p>
  {% endif %}

  <a href="{% url 'base:task-create' %}" class="m-4">+ Add Task</a> <br />

  <form method="get" style="width: 90%; margin: auto">
    <input
      type="text"
      name="search-area"
      value="{{search_area}}"
      style="width: 80%"
    />
    <input type="submit" value="Submit" style="width: 18%" />
  </form>

  {% if not tasks %}
  <p><strong>Nothing in ToDo List</strong></p>
  {% else %}
  <table class="mt-3" style="width: 90%; margin: auto">
    <tr>
      <th style="width: 80%">
        Title
        <hr />
      </th>
      <th colspan="3" class="text-center" style="width: 20%">
        Actions
        <hr />
      </th>
    </tr>
    {% for task in tasks %}
    <tr>
      <td>
        {% if task.complete %}
        <s>{{task}}</s>
        {% else %} {{task}} {% endif %}
      </td>
      <td class="text-center"><a href="/task-update/{{task.id}}">Edit</a></td>
      <td class="text-center"><a href="/task-delete/{{task.id}}">Delete</a></td>
    </tr>
    {% endfor %}
  </table>

  {% endif %}
</div>
{% endblock content %}
